# Freshrank R5 Regulatory Ranking Report

## 1. Configuration Fingerprint
| File | SHA256 |
| --- | --- |
| `regulatory/rulebook.yaml` | `28e00b6d377f3328ebbfd800d56e2006d1af37cc920166deef52caf7ada8bb88` |
| `regulatory/taxonomy.yaml` | `1f0eba3f94b6a0dbd689cf05b1d9da17d3c4166c42d891fa3ea8f9b440badc33` |
| `regulatory/weights.yaml` | `f751b81c820ddb2515e50297b147a2d4fbdff72f3f6dacdedfeddbdff2688f41` |
| `regulatory/lexicon/aml.txt` | `f74fbb48e9fe77e5fccb63eddda3666e2b1e221bdd36b0b430feaf75e1204b78` |
| `regulatory/lexicon/consumer_protection.txt` | `b10e1cd22d8bec534b26b025683febdfe3c39b6e0bd24d843f6bd4097b8fb646` |
| `regulatory/lexicon/data_security.txt` | `f522ed4dc915571ffc9a6f2e54ff49557b3f394cfbfffbfdd9545d7d80b8a775` |
| `regulatory/lexicon/disclosure_gov.txt` | `7248f668ec2ce0b0c1b664572e454783a7415fc08f4240cefb971022de800df0` |
| `regulatory/lexicon/esg.txt` | `8158ff59736694d3adcc2ca2b2b77673463458175f3fbde83f73be678a45ddba` |
| `regulatory/lexicon/health.txt` | `12b5d245ea41c3dcb5b673bcdffe4d8eb09bafb745d5701ba39dd297e70c5c39` |
| `regulatory/lexicon/rating.txt` | `69dd5a41c3af89ae73ea297fecf3cb859f57fdaf48ff9e19e114c28fa42b8496` |
| `regulatory/lexicon/retirement.txt` | `b7aa68c576fe8d115194b8a22c1b7bd12b895eeb1d129df766f54335d76f87c0` |
| `regulatory/lexicon/sales_compliance.txt` | `8391fe14e4a131388d77bdffb7a8363ff24599b01d42408ef52c7f8aec6424be` |
| `freshrank/config/ranking_rules.yaml` | `1b5dfae358acc73842c7bd2fa0dcee0363a2a50f4ade73845cae6a794c3199f6` |

Combined hash: `b74d856ddc673cb51a3de8bb5e4d92be4764a34fb849f0169a26899db9425c91` (generated 2025-11-05T07:13:38.286275+00:00)

## 2. Regulatory Tagging Quality
Macro Precision 0.905, Recall 1.000, F1 0.943.
| Tag | Precision | Recall | F1 | TP | FP | FN |
| --- | --- | --- | --- | --- | --- | --- |
| esg | 0.667 | 1.000 | 0.800 | 20 | 10 | 0 |
| rating | 1.000 | 1.000 | 1.000 | 20 | 0 | 0 |
| data_security | 1.000 | 1.000 | 1.000 | 20 | 0 | 0 |
| consumer_protection | 0.667 | 1.000 | 0.800 | 20 | 10 | 0 |
| sales_compliance | 1.000 | 1.000 | 1.000 | 20 | 0 | 0 |
| aml | 1.000 | 1.000 | 1.000 | 20 | 0 | 0 |
| disclosure_gov | 1.000 | 1.000 | 1.000 | 20 | 0 | 0 |

## 3. Ranking Ablation (Regulatory On vs Off)
| Metric | On | Off | Δ |
| --- | --- | --- | --- |
| ndcg@10 | 0.0853 | 0.0761 | +0.0092 |
| mrr | 0.0864 | 0.0851 | +0.0013 |
| new_doc_top10_ratio | 0.8771 | 0.8857 | -0.0086 |
| expired_in_top10_ratio | 0.0200 | 0.0200 | +0.0000 |
| avg_w_regulatory | 0.0343 | 0.0000 | +0.0343 |

## 4. Metadata Extraction Accuracy
| Field | Accuracy |
| --- | --- |
| publish_date | 1.0000 |
| effective_from | 1.0000 |
| effective_to | 1.0000 |
| status | 1.0000 |
| version | 1.0000 |
| product_code | 1.0000 |
| doc_type | 1.0000 |

Overall accuracy: **1.0000**

## 5. Ingestion SLO (Minutes)
| Percentile | Total Pipeline | Metadata Ready |
| --- | --- | --- |
| P50 | 14.0 | 7.0 |
| P90 | 17.0 | 7.0 |
| P99 | 17.0 | 7.0 |

Records observed: 80

## 6. Sample Response (Explainability)
Reference payload: `samples/rerank_response.json` shows `score_breakdown` and `tags/evidence` per document.

## 7. Mission Checklist
- [x] 新文档（≤6个月）×1.3 加权
- [x] 过期文档自动降权至 0.01
- [x] 自动抽取生效/废止/状态 ≥90%
- [x] 新文档召回 ≥60% (Top10 new doc ratio)
- [x] 入库至可检索 ≤20 分钟 (P90)
- [x] 集成监管评级 + ESG 加权

---
Report generated by `scripts/make_final_report.py`. All inputs reside under `eval/reports/`.